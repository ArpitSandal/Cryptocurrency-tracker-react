{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\crypto-tracker\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport \"./font-awesome/css/all.css\";\nimport Coins from \"./components/Coins\";\nimport Pagination from \"./components/Pagination\";\nimport Navbar from \"./components/Navbar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      coins_data: [],\n      current_page: 1,\n      total_pages: 0,\n      coins_per_page: 15,\n      coin_search: \"\",\n      is_sorted_alpha: 1,\n      is_sorted_price: 0\n    }; // The functions that are changing states\n\n    this.setCurrentPage = this.setCurrentPage.bind(this);\n    this.searchCoin = this.searchCoin.bind(this);\n    this.gotoPage = this.gotoPage.bind(this);\n    this.sortAccTo = this.sortAccTo.bind(this);\n  } // Fetching the data from the api\n\n\n  componentDidMount() {\n    fetch(\"https://api.coingecko.com/api/v3/coins/markets?vs_currency=USD&order=market_cap_desc&per_page=250&page=1&sparkline=false\").then(response => response.json()).then(data => {\n      this.setState({\n        coins_data: data,\n        total_pages: Math.ceil(data.length / this.state.coins_per_page)\n      });\n    });\n  } // Previous and Next page button\n\n\n  setCurrentPage(page_no) {\n    if (page_no <= 0) page_no = 1;\n    if (page_no > this.state.total_pages) page_no = this.state.total_pages;\n    this.setState({\n      current_page: page_no\n    });\n  } // Goto page\n\n\n  gotoPage(event) {\n    let page_no = parseInt(event.target.value);\n\n    if (isNaN(page_no) || page_no <= 0 || page_no > this.state.total_pages) {\n      event.target.value = \"\";\n      this.setState({\n        current_page: 1\n      });\n      return;\n    }\n\n    this.setState({\n      current_page: page_no\n    });\n  } // Searching the coin in search bar\n\n\n  searchCoin(event) {\n    this.setState({\n      coin_search: event.target.value\n    });\n    console.log(\"jai mata di\");\n  } // Sorting the coins acc. to alphabetical order or price\n\n\n  sortAccTo(val) {\n    let arr = this.state.coins_data;\n    let alpha = this.state.is_sorted_alpha;\n    let price = this.state.is_sorted_price;\n\n    if (val === \"alpha\") {\n      if (alpha) {\n        arr.sort((a, b) => {\n          return a.name.toLowerCase().localeCompare(b.name.toLowerCase());\n        });\n      } else {\n        arr.sort((b, a) => {\n          return a.name.toLowerCase().localeCompare(b.name.toLowerCase());\n        });\n      }\n\n      this.setState({\n        coins_data: arr,\n        is_sorted_alpha: alpha ^ 1,\n        current_page: 1\n      });\n    } else {\n      if (price) {\n        arr.sort((a, b) => {\n          return a.current_price - b.current_price;\n        });\n      } else {\n        arr.sort((b, a) => {\n          return a.current_price - b.current_price;\n        });\n      }\n\n      this.setState({\n        coins_data: arr,\n        is_sorted_price: price ^ 1,\n        current_page: 1\n      });\n    }\n  } // To make categories stick\n\n\n  makeSticky() {\n    let elm = document.getElementById(\"category-id\");\n    let sticky = elm.offsetTop;\n\n    if (window.page >= sticky) {\n      elm.classList.add(\"sticky\");\n    } else {\n      elm.classList.remove(\"sticky\");\n    }\n  }\n\n  render() {\n    let coins_per_page = this.state.coins_per_page;\n    let current_page = this.state.current_page;\n    let total_coins = this.state.coins_data.length;\n    let last_coin = Math.min(coins_per_page * current_page, total_coins);\n    let coin_search = this.state.coin_search;\n    let coin_arr = [];\n    let pagination_disable = false; // If the search bar is empty\n\n    if (coin_search.length === 0) {\n      let arr = this.state.coins_data.slice(last_coin - coins_per_page, last_coin);\n      coin_arr = arr.map((val, inx) => {\n        return /*#__PURE__*/_jsxDEV(Coins, {\n          coin_prop: val\n        }, inx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 16\n        }, this);\n      });\n    } else {\n      let cnt = 0;\n      coin_arr = this.state.coins_data.map((val, inx) => {\n        // Matching the entered value with coins\n        if (val.name.toLowerCase().startsWith(coin_search.toLowerCase())) {\n          cnt++;\n          return /*#__PURE__*/_jsxDEV(Coins, {\n            coin_prop: val\n          }, inx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 18\n          }, this);\n        }\n\n        return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n      });\n      pagination_disable = true; // disabling the next, prev and goto\n\n      total_coins = cnt; // total search results\n    } // console.log(this.state.coins_data);\n\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        searchCoin: this.searchCoin\n      }, \"appy\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"coin-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"coin\",\n          id: \"category-id\",\n          onScroll: this.makeSticky,\n          style: {\n            border: \"0px\",\n            borderBottom: \"2px solid rgb(231, 228, 228)\",\n            fontWeight: \"bold\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"c-category\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"sort-button\",\n              onClick: () => this.sortAccTo(\"alpha\"),\n              children: \"Coin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"categories\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"sort-button\",\n              onClick: () => this.sortAccTo(\"price\"),\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"24h Max.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"24h Min.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Price Chg.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Mkt. Cap\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), coin_arr]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        setCurrentPage: this.setCurrentPage,\n        total_pages: this.state.total_pages,\n        current_page: this.state.current_page,\n        gotoPage: this.gotoPage,\n        pagination_disable: pagination_disable,\n        total_coins: total_coins\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:/projects/crypto-tracker/src/App.js"],"names":["React","Component","Coins","Pagination","Navbar","App","constructor","state","coins_data","current_page","total_pages","coins_per_page","coin_search","is_sorted_alpha","is_sorted_price","setCurrentPage","bind","searchCoin","gotoPage","sortAccTo","componentDidMount","fetch","then","response","json","data","setState","Math","ceil","length","page_no","event","parseInt","target","value","isNaN","console","log","val","arr","alpha","price","sort","a","b","name","toLowerCase","localeCompare","current_price","makeSticky","elm","document","getElementById","sticky","offsetTop","window","page","classList","add","remove","render","total_coins","last_coin","min","coin_arr","pagination_disable","slice","map","inx","cnt","startsWith","border","borderBottom","fontWeight"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport \"./font-awesome/css/all.css\";\nimport Coins from \"./components/Coins\";\nimport Pagination from \"./components/Pagination\";\nimport Navbar from \"./components/Navbar\";\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      coins_data: [],\n      current_page: 1,\n      total_pages: 0,\n      coins_per_page: 15,\n      coin_search: \"\",\n      is_sorted_alpha: 1,\n      is_sorted_price: 0,\n    };\n\n    // The functions that are changing states\n    this.setCurrentPage = this.setCurrentPage.bind(this);\n    this.searchCoin = this.searchCoin.bind(this);\n    this.gotoPage = this.gotoPage.bind(this);\n    this.sortAccTo = this.sortAccTo.bind(this);\n  }\n\n  // Fetching the data from the api\n  componentDidMount() {\n    fetch(\n      \"https://api.coingecko.com/api/v3/coins/markets?vs_currency=USD&order=market_cap_desc&per_page=250&page=1&sparkline=false\"\n    )\n      .then((response) => response.json())\n      .then((data) => {\n        this.setState({\n          coins_data: data,\n          total_pages: Math.ceil(data.length / this.state.coins_per_page),\n        });\n      });\n  }\n\n  // Previous and Next page button\n  setCurrentPage(page_no) {\n    if (page_no <= 0) page_no = 1;\n    if (page_no > this.state.total_pages) page_no = this.state.total_pages;\n    this.setState({ current_page: page_no });\n  }\n\n  // Goto page\n  gotoPage(event) {\n    let page_no = parseInt(event.target.value);\n\n    if (isNaN(page_no) || page_no <= 0 || page_no > this.state.total_pages) {\n      event.target.value = \"\";\n      this.setState({ current_page: 1 });\n      return;\n    }\n    this.setState({ current_page: page_no });\n  }\n\n  // Searching the coin in search bar\n  searchCoin(event) {\n    this.setState({ coin_search: event.target.value });\n    console.log(\"jai mata di\");\n  }\n\n  // Sorting the coins acc. to alphabetical order or price\n  sortAccTo(val) {\n    let arr = this.state.coins_data;\n    let alpha = this.state.is_sorted_alpha;\n    let price = this.state.is_sorted_price;\n    if (val === \"alpha\") {\n      if (alpha) {\n        arr.sort((a, b) => {\n          return a.name.toLowerCase().localeCompare(b.name.toLowerCase());\n        });\n      } else {\n        arr.sort((b, a) => {\n          return a.name.toLowerCase().localeCompare(b.name.toLowerCase());\n        });\n      }\n      this.setState({\n        coins_data: arr,\n        is_sorted_alpha: alpha ^ 1,\n        current_page: 1,\n      });\n    } else {\n      if (price) {\n        arr.sort((a, b) => {\n          return a.current_price - b.current_price;\n        });\n      } else {\n        arr.sort((b, a) => {\n          return a.current_price - b.current_price;\n        });\n      }\n      this.setState({\n        coins_data: arr,\n        is_sorted_price: price ^ 1,\n        current_page: 1,\n      });\n    }\n  }\n\n  // To make categories stick\n  makeSticky() {\n    let elm = document.getElementById(\"category-id\");\n    let sticky = elm.offsetTop;\n    if (window.page>= sticky) {\n      elm.classList.add(\"sticky\");\n    } else {\n      elm.classList.remove(\"sticky\");\n    }\n\n  }\n\n  render() {\n    let coins_per_page = this.state.coins_per_page;\n    let current_page = this.state.current_page;\n    let total_coins = this.state.coins_data.length;\n    let last_coin = Math.min(coins_per_page * current_page, total_coins);\n    let coin_search = this.state.coin_search;\n\n    let coin_arr = [];\n    let pagination_disable = false;\n\n    // If the search bar is empty\n    if (coin_search.length === 0) {\n      let arr = this.state.coins_data.slice(\n        last_coin - coins_per_page,\n        last_coin\n      );\n      coin_arr = arr.map((val, inx) => {\n        return <Coins coin_prop={val} key={inx} />;\n      });\n    } else {\n      let cnt = 0;\n      coin_arr = this.state.coins_data.map((val, inx) => {\n        // Matching the entered value with coins\n        if (val.name.toLowerCase().startsWith(coin_search.toLowerCase())) {\n          cnt++;\n          return <Coins coin_prop={val} key={inx} />;\n        }\n        return <></>;\n      });\n\n      pagination_disable = true; // disabling the next, prev and goto\n      total_coins = cnt; // total search results\n    }\n\n    // console.log(this.state.coins_data);\n\n    return (\n      <div>\n        {/* To Search Coins */}\n        <Navbar searchCoin={this.searchCoin} key=\"appy\" />\n\n        {/* Coins being rendered */}\n        <div className=\"coin-container\">\n          <div\n            className=\"coin\"\n            id=\"category-id\"\n            onScroll={this.makeSticky}\n            style={{\n              border: \"0px\",\n              borderBottom: \"2px solid rgb(231, 228, 228)\",\n              fontWeight: \"bold\",\n            }}\n          >\n            <div className=\"c-category\">\n              <span\n                className=\"sort-button\"\n                onClick={() => this.sortAccTo(\"alpha\")}\n              >\n                Coin\n              </span>\n            </div>\n\n            <div className=\"categories\">\n              <p\n                className=\"sort-button\"\n                onClick={() => this.sortAccTo(\"price\")}\n              >\n                Price\n              </p>\n              <p>24h Max.</p>\n              <p>24h Min.</p>\n              <p>Price Chg.</p>\n              <p>Mkt. Cap</p>\n            </div>\n          </div>\n\n          {coin_arr}\n        </div>\n\n        {/* Going to different pages */}\n        <Pagination\n          setCurrentPage={this.setCurrentPage}\n          total_pages={this.state.total_pages}\n          current_page={this.state.current_page}\n          gotoPage={this.gotoPage}\n          pagination_disable={pagination_disable}\n          total_coins={total_coins}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}