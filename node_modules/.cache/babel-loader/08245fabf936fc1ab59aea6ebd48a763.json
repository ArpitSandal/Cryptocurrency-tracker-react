{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\crypto-tracker\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport Coins from \"./components/Coins\";\nimport Pagination from \"./components/Pagination\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      coins_data: [],\n      current_page: 1,\n      total_pages: 0,\n      coins_per_page: 15,\n      coin_search: \"\"\n    };\n    this.setCurrentPage = this.setCurrentPage.bind(this);\n    this.searchCoin = this.searchCoin.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(\"https://api.coingecko.com/api/v3/coins/markets?vs_currency=USD&order=market_cap_desc&per_page=250&page=1&sparkline=false\").then(response => response.json()).then(data => this.setState({\n      coins_data: data,\n      total_pages: Math.ceil(data.length / this.state.coins_per_page)\n    }) // console.log(data)\n    );\n  }\n\n  setCurrentPage(page_no) {\n    this.setState({\n      current_page: page_no\n    }); // console.log(page_no);\n  }\n\n  searchCoin(event) {\n    this.setState({\n      coin_search: event.target.value\n    }); // console.log(typeof(event.target.value));\n  }\n\n  render() {\n    let coins_per_page = this.state.coins_per_page;\n    let current_page = this.state.current_page;\n    let total_coins = this.state.coins_data.length;\n    let last_coin = Math.min(coins_per_page * current_page, total_coins);\n    let coin_search = this.state.coin_search;\n    let coin_arr = this.state.coins_data.slice(last_coin - coins_per_page, last_coin);\n\n    if (coin_search.length === 0) {\n      coin_arr = this.state.coins_data.slice(last_coin - coins_per_page, last_coin);\n    } // console.log(coin_search.length);\n\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search\",\n          onChange: this.searchCoin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), coin_arr.map((val, inx) => {\n        return /*#__PURE__*/_jsxDEV(Coins, {\n          coin_prop: val\n        }, inx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 18\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(Pagination, {\n        setCurrentPage: this.setCurrentPage,\n        total_pages: this.state.total_pages,\n        current_page: this.state.current_page\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:/projects/crypto-tracker/src/App.js"],"names":["React","Component","Coins","Pagination","App","constructor","state","coins_data","current_page","total_pages","coins_per_page","coin_search","setCurrentPage","bind","searchCoin","componentDidMount","fetch","then","response","json","data","setState","Math","ceil","length","page_no","event","target","value","render","total_coins","last_coin","min","coin_arr","slice","map","val","inx"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Coins from \"./components/Coins\";\nimport Pagination from \"./components/Pagination\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      coins_data: [],\n      current_page: 1,\n      total_pages: 0,\n      coins_per_page: 15,\n      coin_search: \"\",\n    };\n    this.setCurrentPage = this.setCurrentPage.bind(this);\n    this.searchCoin = this.searchCoin.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(\n      \"https://api.coingecko.com/api/v3/coins/markets?vs_currency=USD&order=market_cap_desc&per_page=250&page=1&sparkline=false\"\n    )\n      .then((response) => response.json())\n      .then(\n        (data) =>\n          this.setState({\n            coins_data: data,\n            total_pages: Math.ceil(data.length / this.state.coins_per_page),\n          })\n        // console.log(data)\n      );\n  }\n\n  setCurrentPage(page_no) {\n    this.setState({ current_page: page_no });\n    // console.log(page_no);\n  }\n\n  searchCoin(event){\n    this.setState({coin_search: event.target.value});\n    // console.log(typeof(event.target.value));\n  }\n\n  render() {\n    let coins_per_page = this.state.coins_per_page;\n    let current_page = this.state.current_page;\n    let total_coins = this.state.coins_data.length;\n    let last_coin = Math.min(coins_per_page * current_page, total_coins);\n    let coin_search = this.state.coin_search;\n\n    let coin_arr = this.state.coins_data.slice(\n      last_coin - coins_per_page,\n      last_coin\n    );\n    if(coin_search.length === 0){\n      coin_arr = this.state.coins_data.slice(\n        last_coin - coins_per_page,\n        last_coin\n      );\n    }\n\n    // console.log(coin_search.length);\n\n    return (\n      <div>\n        <form>\n          <input type=\"text\" placeholder=\"Search\" onChange={this.searchCoin}></input>\n        </form>\n        {coin_arr.map((val, inx) => {\n          return <Coins coin_prop={val} key={inx} />;\n        })}\n        <Pagination\n          setCurrentPage={this.setCurrentPage}\n          total_pages={this.state.total_pages}\n          current_page={this.state.current_page}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}